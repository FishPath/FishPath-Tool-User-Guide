# FishPath Tool Interactive Results Page

Upon completion of the questionnaire for any section, the user is directed to the FishPath Tool Results Review page (Figure 13). The results are presented separately for each of the 3 sections, or harvest strategy component: 1) Data Collection; 2) Assessment; and 3) Management Measures (Figure 13, shown in dark blue bars near top of screen).

This interactive page has four main components: 

1.	**Results support tools** to share, export and copy results;
2.	A **results table** of all the options contained in FishPath with their criteria and caveats; 
3.	**Questionnaire Summaries** (“Influential Answers” and “See All Answers”)
4.	A step-wise **results narrowing process**.

While the general structure of the results pages is the same across all three sections, each has unique differences. Here, the results table and results narrowing process are described in general. This is followed by sections that describe the details unique to each of the three sections.

**<TODO: UPDATE FIG 13 TO HAVE NUMBERS>**

## Results Support Tools

At the top of the Results Page, the user may either “Share”, “Export”, or “Copy” the results for their fishery (Figure 13). 

1.	**Share:** This will generate a link that allows the user to share a fishery with someone. The user simply needs to send the link and the recipient will have view-only access to this fishery from their active account. A shared fishery can be saved under someone else’s FishPath account, and they can make a copy of it to separately edit, if needed. Tip: when creating a copy of a shared fishery in a user account, it is useful to rename the fishery so that edits are tracked under this new name.
2.	**Export:** This allows users to export the question and answer list from the saved questionnaire, as well as a simple results file, as a .csv file.
3.	**Copy:** This allows users to make a copy of a fishery’s results, be these their own, or from a shared link. To rename that fishery and edit it under a different name, the user should select the “Edit Name and Details” button.
4.	**Edit Name and Details:** This allows users to edit the information entered on the Fishery Information form (name, species, geography, etc.)
5.	**Generate Report:** Allows the user to create a .PDF of the FishPath results, with all notes captured. The report provides detailed information on each option and their associated caveats and criteria related to the fishery. Users can select to see a report for the “full list” of options, or for a specified list of “top options”. This process of identifying top options is detailed below.

**<TODO: ADD FIG 13>**

## Results Table
The results table lists all the available options for the section of interest in rows. Each row summarizes the criteria met and failed, and the caveats invoked (see also “Criteria and Caveat Questions” section above). Each option can be selected and expanded to view its description and results in more detail. A guide to the content contained in each row is listed below.

### Table Structure
\@ref(fig:single-row) displays a single row from an example results table. The single row represents one option in the FishPath tool, and the details of this singe row are as follows:

```{r single-row, echo=FALSE, fig.cap='Headings of the FishPath tool results table.', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/single-row.png')
```

- **Hide/Unhide:** Any option for which one or more of its minimum criteria have not been met by the fishery is automatically “hidden” (greyed-out) by the FishPath tool. For any option, including those not meeting minimum criteria, users may manually click this link to “hide” the option, or click “hidden” or reinstate it. 
```{r hide, echo=FALSE, fig.align='center', out.width='10%', fig.show='hold'}
knitr::include_graphics('images/hide.png')
```

- **Notes:** As within the questionnaire, notes may be written and saved (with a secure internet connection) for each option. For example, notes may be taken on fishery-specific details (not covered within the questionnaire) on why that option may or may not be a good fit, or to record the user’s or user groups overall evaluation of the option, given its associated criteria and caveats. Alternatively, notes may be taken if options are hidden or reinstated, to justify that choice as documentation. Notes are be included in the PDF report. 
```{r notes, echo=FALSE, fig.align='center', out.width='15%', fig.show='hold'}
knitr::include_graphics('images/notes.png')
```

- **Criteria (Data Collection and Assessment sections):** The criteria column provides information on whether the fishery meets the minimum conditions required to undertake the option. As explained above, the Management Measures section does not include criteria. If the fishery has met all of the minimum criteria required for the option, a green check is displayed. On the other hand, if a fishery has not met one or more of the minimum criteria required for the option, a red X is displayed (and the option is automatically “hidden”). The numbered boxes next to the red “X” indicate the number of criteria met (green) and unmet (black). For the assessment section only, criteria also have associated “traffic light” colored (black, red, orange, yellow, green) guidance to encourage FishPath users to explicitly consider the possible uncertainty associated with the quality of their fishery’s information   (with black equating to a minimum criterion not having been met). The numbers within in each symbol, are the subset of the total criteria for that option that were not met (black), and that invoked (red, orange, yellow) uncertainty warnings, and positive attributes (green) , as triggered by questionnaire responses.
```{r criteria, echo=FALSE, fig.align='center', out.width='35%', fig.show='hold'}
knitr::include_graphics('images/criteria.png')
```

- **Caveats:** The format of the caveats column is identical across all three sections. Caveats are shown as colored circles with numbers indicating the total number of questionnaire responses that invoked a caveat of that particular color. There are three types of caveats:

  1.	**Cautionary, or warning caveats:** these are marked as red, orange, and yellow circles with the severity or strength of the caveat corresponding to the color (red being highest). These give cautionary guidance based on an attribute of a fishery. For example, if the user responded that the species of interest is susceptible to barotrauma, this would invoke a red caveat against size limits as a management measure, since the fishing-induced mortality of the released (under- or over-sized) fish would render size limits ineffective.
  2.	**Positive attributes:** A green colored caveat provides reasoning for why the option might be well-suited for the fishery on the basis on a of a user response in the questionnaire.
  3.	**Static caveats:** Turquoise colored caveats are static caveats that need to be considered for an option, regardless of the fishery or the questionnaire responses. A static caveat is independent of specific fishery circumstances and as such are always present. These include key assessment assumptions, for example, that the assessment option assumes that fishery selectivity has not changed over time, or that the assessment method cannot explicitly address uncertainty.

**<TODO: UPDATE SCREENSHOT WITH NEW CAVEATS>**

- **(Data) Category:** The Category column allows the user to view the options by categories. This column is different for each section. In the Data Collection Section, this column is titled “Data Category”, showing the four categories of the type of data that may be collected (see also “Data Collection Section Results” above). In the Assessment Section, this column is titled either “Input-Based Category” or “Output-Based Category”, reflecting two sorting options available for organizing the assessment option results. In the Management Measures Section, this column is simply titled “Category” and displays the categories of management measures. 

- **Option:** This is the name of the option being considered.
 
### Full Option Details
 
Each row in the Results Table displays the option name with summarized results for each option. When users click on any option, a pop-up box appears, which provides full details of the option itself, together with the detail of the criteria and caveats invoked. 

First, a description of the option is provided, together with relevant references, and contact information (if available or appropriate). For the Data Collection options, the types of data that may be collected using the option are summarized. For the Assessment section, where available, links to assessment packages are provided.

Next, the invoked criteria and caveats are summarized by (Fig. 15)

- Criteria not met,
-	Met criteria,
-	Cautionary caveats,
-	Positive attribute caveats, and
-	Static caveats 

Next to each, there are individual drop-down menus where the user can find the specific detail on each individual criterion and caveat, along with the question and response that invoked the criterion or caveat.
 
**<TODO: UPDATE PICTURE WITH NEW CAV ICONS AND MERGE TWO IMAGES INTO ONE>**

**Criteria drop-down box (Figs. 16-17)**: Each criterion drop-down shows the relevant question with the user’s response shown (highlighted in black) relative to the minimum required level for that option (where green coloring starts on left) (\@ref(fig:crit-drop-down)). The Assessment section assigns traffic light colors to levels above the minimum, indicating their relative uncertainty and thus the relative caution that should be taken (Fig X17 ).

```{r crit-drop-down, echo=FALSE, fig.cap='Example drop-down menu with details for an option in the Data Collection section that was eliminated for failing two criteria. The bold, black box and white text indicates the user answer to the question. The black answer options indicate those that result in elimination if selected. The green answer options indicate those that would have resulted in acceptance if selected.', fig.align='center', out.width='75%', fig.show='hold'}
knitr::include_graphics('images/crit-drop-down.png')
```

**<TODO: INSERT EX OF ASSESSMENT CRIT (FIG 17)>**

**Caveat Drop-Down Box (Figs. 18-20)**: Each individual caveat box displays the FishPath question with the user’s answer in grey text, followed by caveat text related to the use of the option in the fishery in the context of that particular question response. The color of each box reflects the caveat color (see caveat descriptions above): cautionary caveats shaded yellow, orange or red; positive attributes shaded green; and static caveats shaded in turquoise.

```{r cav-drop-down, echo=FALSE, fig.cap='Example caveat drop-down menu with details for an option for which questionnaire responses invoked 8 cautionary caveats (2 orange, 6 yellow, as shown at the top right corner of the drop-down menu).', fig.align='center', out.width='75%', fig.show='hold'}
knitr::include_graphics('images/cav-drop-down.png')
```

```{r pos-attr-drop-down, echo=FALSE, fig.cap='Example drop-down menu of positive attributes for an option for which questionnaire responses invoked 5 positive attributes (shown at the top right corner of the drop-down menu).', fig.align='center', out.width='75%', fig.show='hold'}
knitr::include_graphics('images/pos-attr-drop-down.png')
```

```{r static-cav-drop-down, echo=FALSE, fig.cap='Example static caveat drop-down menu for an option with 3 static caveats (shown at the top right corner of the drop-down menu). Each individual static caveat box displays grey text to note “This caveat always applies to this option”, and a short explanation of the static caveat or warning.', fig.align='center', out.width='75%', fig.show='hold'}
knitr::include_graphics('images/static-cav-drop-down.png')
```

### Filters and Sorting of Results Table

The “Filters and Sorting” functionality allows the user to arrange and view the options in different ways. This does not affect the results or shortlisting of options; it is merely a means to organize and display the results. All three sections have the same filter and sorting functions. The Assessment section has an additional option to select between two categories to sort and display: “Output-Based Category” (i.e., according to the general type of output generated by the assessment method or option); or “Input-Based Category” (i.e., according to the main form of input required by the assessment or option). 

After clicking “Filters and Sorting”, a pop-up box (\@ref(fig:filter-and-sorting)) appears with the ability to sort the options by: 

-	**Default Order:** The default sort is to list all options that did not meet minimum criteria at the bottom (automatically greyed out as hidden options), with the options for which the highest number of cautionary caveats were invoked at the top for review.
-	**Customized Sort Order:** This maintains the current sort order but allows users to return to the results table and “drag and drop” options into the preferred order. 
-	**Sort by option name:** Sorts options alphabetically by option name.
-	**Sort by category:** Sorts options alphabetically by category name. For the Assessment section, users first select the Category Display that they want to display and sort by.

Clicking a Sort option automatically sorts the options on the screen. After making selections on the Filters and Sorting page, users can click outside of the pop-up onto the results table to return to the results.
The “Show hidden options” functionality allows users to display or not display those options that have been “hidden” (greyed out) in the results table.  

```{r filter-and-sorting, echo=FALSE, fig.cap='The “Filters and Sorting” pop-up boxes in the results pages from the A) Assessment section and B) Data Collection and Management Measure sections. The Assessment section includes the additional functionality select between two categories for display and sorting.', fig.align='center', out.width='50%', fig.show='hold'}
knitr::include_graphics(c('images/filter-and-sorting-assessment.png', 'images/filter-and-sorting.png'))
```

## Summaries of Questionnaire Responses
If the user scrolls to the bottom of the results screen (below results table), they are provided with a summary list of the questions bookmarked by the user, together with a list of “Influential Answers ”, and, finally, a “See All Answers” link. 

### Flagged Questions
All questions that were “bookmarked” during the questionnaire will be listed here (Fig. 22 ). Users can select each question to get a detailed list of all caveats invoked or criteria not met based on the response.  Users can also select each question to change the answer, add notes, or remove bookmark. It is highly recommended to review these questions and invoked caveats so that users can update their response or provide more detailed notes on the response, based on seeing how the response impacts results.

**<TODO: ADD FIGURE>**

### Influential Answers
The “Influential Answers” list is a summary of the questions and user responses that invoked the most eliminating criteria (by number), together with the number of caveats and criteria invoked, by assigned traffic light color (\@ref(fig:influential-answers)). The caveats invoked by the question are displayed (color strength and number) to its left. 

It is recommended to review this list prior to entering the results narrowing process (described below), to better understand some of the key challenges facing the fishery. Users can select any question on this list to change an answer, add notes to the question, and see a list of all impacted options and their associated caveats (Fig. 24).

```{r influential-answers, echo=FALSE, fig.cap='List of influential answers', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/influential-answers.png')
```

**<TODO: ADD FIG 24>**

At the bottom of these lists, there is a link to “See All Answers” (as well as at the top of the results screen under “Answers”).  These links take users to a full list of answers from each section, showing all information, including the number of caveats invoked, and any flagged questions. This is a good resource for users wanting to review the questionnaire responses for a fishery.

## Results Narrowing Process
Typically, the FishPath questionnaire process results in a long list of potential options that are presented to the user. The challenge is to then refine this to a workable shortlist of options that can be reviewed in further detail, and around which a draft harvest strategy can be developed. This can be a daunting task, given the number of options, and the large amount of detail around the criteria and caveats invoked against each. As such, the Results Review provides guidance as to how to undertake the task of narrowing the list of viable harvest strategy components. 

The Results Narrowing process prompts the user through a series of steps to further refine and narrow the options for their fishery, and to consider detail about the application of each option in the fishery. The goal is to finish with a short list of defensible, appropriate and documented options for the fishery. 

First, the user accesses the Results Narrowing process by selecting the “Review Top Options” button located above the Results Table in the Results Screen.

**<TODO: INSERT FIGURE>**

After clicking on “Review Top Options”, the user is directed to a step-wise results review process (\@ref(fig:results-review)). Each step of the results review process contains an “Instructions” box with clear steps, as well as the ability to access different steps of the results review process through “Back”, “Exit Review” and “Next Step” (\@ref(fig:results-review)). Across the top of the page, the user views steps in the process:

```{r results-review, echo=FALSE, fig.cap='Overview of the FishPath Tool results screen and results review process.', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/results-review.png')
```

The Results Narrowing process in the FIshPath tool was developed for use in a multi-stakeholder review process. Some steps may be skipped if performing as a desktop exercise. Two preliminary steps are included for use in a stakeholder process:

-	**Preview:** Displays a sample of results from the full results list so that all stakeholders can take time to become familiar with the results table and its functionality.
-	**Review Full Results:** Provides the full results list, so that all stakeholders can see all available options before beginning the narrowing process.

The actual narrowing process (done as a group exercise or by independent users), consists of the following major steps:

1.	**Option Retention:** The goal of the first step is to hide all options that are clearly not viable for the fishery due to failure to meet minimum criteria, logistical, political, or other major reasons. Users should carefully review the list to hide these options, as well as un-hide options that they want to reinstate. Specific instructions are included on the screen in this step of the process, including questions to consider as narrowing the list (\@ref(fig:review-step-1)).
2.	**Identification of Top Options:** In this step, users review each remaining option to identify a short list of starred options that will be seriously considered and explored in more detail. Users should familiarize themselves with the sorting feature and the influential answer list (see above) to facilitate this process. When comparing options, users should compare the number of cautionary caveats and criteria, their relative strength, and the ratio of cautionary caveats to positive attribute caveats. Specific instructions are included on the screen in this step of the process (\@ref(fig:review-step-2)).
3.	**Critical Evaluation of Top Options:** In the final step, users can more critically evaluate the top options by considering each criterion and caveat in complete detail, and, potentially, ranking the options in order of potential (\@ref(fig:review-step-3)). To facilitate this process, users can export a report that lists the top options and all of their details. 

```{r review-step-1, echo=FALSE, fig.cap='Step 1, Option Retention, in the results review process.', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/review-step-1.png')
```

```{r review-step-2, echo=FALSE, fig.cap='Step 2, Identification of Top Options, in the results review process.', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/review-step-2.png')
```

```{r review-step-3, echo=FALSE, fig.cap='Step 3, Critical Evaluation of Top Options, in the results review process.', fig.align='center', out.width='95%', fig.show='hold'}
knitr::include_graphics('images/review-step-3.png')
```